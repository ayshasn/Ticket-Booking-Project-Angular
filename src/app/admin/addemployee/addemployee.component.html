<app-navbar></app-navbar>

<section class="container col-md-6 p-4 bg-light mt-4 rounded shadow">
    <h2 class="text-center text-dark mb-4">Add Employee</h2>

    <form class="row g-3" [formGroup]="employeeForm">
        <!-- <section class="col-md-12">
            <input type="text" class="form-control" placeholder="Employee Name" required
                aria-label="Employee Name">
        </section> -->
        
        <section class="col-md-12">
            <input type="text" class="form-control" formControlName="first_name" placeholder="first_name" required aria-label="Employee ID">
        </section>
        <section class="col-md-12">
            <input type="text" class="form-control" formControlName="last_name" placeholder="last_name" required aria-label="last_name">
        </section>
        <section class="col-md-12">
            <input type="text" class="form-control" formControlName="designation" placeholder="Designation" required aria-label="designation">
        </section>  
        <section class="col-md-12">
            <input type="text" class="form-control" formControlName="username" placeholder="username" required aria-label="username">
        </section>
        <select class="form-select" id="travelMode" formControlName="manager_id">
            <option value="">Select Manager</option>
            <option *ngFor="let manager of managers" [value]="manager.id">
              Manager ID {{ manager.id }} : {{ manager.first_name }}
            </option>
          </select>
          
        <section class="col-md-12">
            <input type="email" class="form-control" formControlName="email" placeholder="Email" required aria-label="Email">
        </section>
        <section class="col-md-12">
            <input type="password" class="form-control" formControlName="password" placeholder="Password" required aria-label="Password">
        </section>
        <section class="col-md-12">
            <input type="password" class="form-control" placeholder="Confirm Password" required
                aria-label="Confirm Password">
        </section>
        <section class="col-md-12">
            <input type="text" class="form-control" placeholder="Date of Hire (DD-MM-YY)" required
                aria-label="Date of Hire">
        </section>

        <!-- Buttons Section -->
        <section class="row justify-content-between p-3 mt-3">
            <section class="col-md-4">
                <!-- Cancel Button with Modal -->
                <button class="btn btn-danger" type="button" data-bs-toggle="modal"
                    data-bs-target="#cancelModal">
                    Cancel
                </button>
            </section>
            <section class="col-md-2">
                <!-- Submit Button with Modal -->
                <button class="btn btn-primary" type="button" (click)="onSubmit()">
                    Submit
                </button>
            </section>
        </section>
    </form>

    <!-- Success Modal (For Submit) -->
    <section class="modal fade" id="successModal" tabindex="-1" aria-hidden="true">
        <section class="modal-dialog">
            <section class="modal-content">
                <header class="modal-header">
                    <h5 class="modal-title text-dark">Success</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </header>
                <section class="modal-body text-dark">
                    Employee added successfully!
                </section>
                <footer class="modal-footer">
                    <footer class="modal-footer">
                        <a [routerLink]="['admin/addemployee']" class="btn btn-primary">OK</a> <!-- Stays on the same page -->
                    </footer>
                </footer>
            </section>
        </section>
    </section>

    <!-- Cancel Confirmation Modal -->
    <section class="modal fade" id="cancelModal" tabindex="-1" aria-hidden="true">
        <section class="modal-dialog">
            <section class="modal-content">
                <header class="modal-header">
                    <h5 class="modal-title text-dark">Confirm Cancel</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </header>
                <section class="modal-body">
                    <p class="text-dark">All entered details will be lost. Are you sure you want to cancel?</p>
                </section>
                <footer class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">No</button>
                    <button class="btn btn-danger" [routerLink]= "['/admin/employees']">Yes, Cancel</button>
                    <!-- Stays on the same page -->
                </footer>
            </section>
        </section>
    </section>
</section>

